<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="style1.css">
     <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Survey</title>
    
</head>
<body>
    <header>
        <div>
        <img src="computers.jpg" alt="computer on desk" width="700" height="150">

        <h1>Take this questionnaire to see what you have learned! </h1>
                

        </div>
        <div class="taskbar">
                        <ul>

                
                <li><a href="different-browsers.html">Different browsers</a></li>
                <li><a href="browser-timeline.html">Browser timeline</a></li>
                <li><a href="how-browsers-work.html">How browsers work</a></li>
                <li><a href="key-concepts.html">Key concepts</a></li>
                <li><a href="about-me.html">About me</a></li>
                <li><a href="references.html">References</a></li>
                <li><a href="index.html">Home</a></li>
            </ul>
            
        </div>
    </header>

    <section id="survey-questions">
        <h2>Survey Questions</h2>

<form id="my_survey">
            <label for="q1">1. What does HTML stand for?</label><br><br>
            <input type="radio" id="HyperText Markup Language" name="q1" value="HyperText Markup Language">
                <label for="HyperText Markup Language">HyperText Markup Language</label><br><br>
            <input type="radio" id="HyperText Markup List" name="q1" value="HyperText Markup List">
                <label for="HyperText Markup List">HyperText Markup List</label><br><br>
            <input type="radio" id="HTTP Text Markup Listener" name="q1" value="HTTP Text Markup Listener">
                <label for="HTTP Text Markup Listener">HTTP Text Markup Listener</label><br><br>
            <input type="radio" id="History Markup List" name="q1" value="History Markup List">
                <label for="History Markup List">History Markup List</label><br><br>
            <input type="radio" id="Have those nabt laughs" name="q1" value="Have those nabt laughs">
                <label for="Have those nabt laughs">Have those nabt laughs</label><br><br>
            <input type="radio" id="HTML" name="q1" value="HTML">
                <label for="HTML">HTML</label><br><br>

            <label for="q2">2. What does the TCP  do?</label><br>
              <input type="radio" id="secret handshake between two friends" name="q2" value="secret handshake between two friends">
                <label for="secret handshake between two friends">secret handshake between two friends</label><br><br>
            <input type="radio" id="Text call protocal-ability to see text on black screen" name="q2" value="Text call protocal-ability to see text on black screen">
                <label for="Text call protocal-ability to see text on black screen">Text call protocal-ability to see text on black screen</label><br><br>
            <input type="radio" id="Establishes a connection between the browser and web server" name="q2" value="Establishes a connection between the browser and web server">
                <label for="Establishes a connection between the browser and web server">Establishes a connection between the browser and web server</label><br><br>
            <input type="radio" id="creates the sound on the speakers" name="q2" value="creates the sound on the speakers">
                <label for="creates the sound on the speakers">creates the sound on the speakers</label><br><br>
            <input type="radio" id="establishes plugins" name="q2" value="establishes plugins">
                <label for="establishes plugins">establishes plugins</label><br><br>
            <input type="radio" id="security plan for walmart during a tornado" name="q2" value="security plan for walmart during a tornado">
                <label for="security plan for walmart during a tornado">security plan for walmart during a tornado</label><br><br>

            <label for="q3">3. Which browser is known for its strong privacy controls?</label><br>
            <input type="text" id="q3" name="q3"><br><br>

            <label for="q4">4. In what year was the first web browser developed?</label><br><br>

            <input type="radio" id="1990" name="q4" value="1990">
                <label for="1990">1990</label><br><br>
            <input type="radio" id="1985" name="q4" value="1985">
                <label for="1985">1985</label><br><br>
            <input type="radio" id="2000" name="q4" value="2000">
                <label for="2000">2000</label><br><br>
            <input type="radio" id="2022" name="q4" value="2022">
                <label for="2022">2022</label><br><br>
            <input type="radio" id="1970" name="q4" value="1970">
                <label for="1970">1970</label><br><br>

            <label for="q5">5. What are the 3 main features that are important when considering what web browser to choose?<br>(select all that apply)</label><br>

            <input type="checkbox" id="feature1" name="feature1" value="speed">
                <label for="feature1">Speed</label><br><br>
            <input type="checkbox" id="feature2" name="feature2" value="security">
                <label for="feature2">Security</label><br><br>
            <input type="checkbox" id="feature3" name="feature3" value="privacy">
                <label for="feature3">Privacy</label><br><br>
            <input type="checkbox" id="feature4" name="feature4" value="color">
                <label for="feature4">Color</label><br><br>
            <input type="checkbox" id="feature5" name="feature5" value="extensions">
                <label for="feature5">Extensions</label><br><br>
            <input type="checkbox" id="feature6" name="feature6" value="my dog can use it">
                <label for="feature6">My Dog Can Use It</label><br><br>
            <input type="checkbox" id="feature7" name="feature7" value="it has to be popular">
                <label for="feature7">It Has To Be Popular</label><br><br>

                            <label for="q6">6. What year was internet explorer released?</label><br>
            <input type="text" id="q6" name="q6"><br><br>

            <label for="q7">7. What is a con of using Google Chrome?</label><br><br>

            <input type="radio" id="has many optional extensions" name="q7" value="has many optional extensions">
                <label for="has many optional extensions">Has many optional extensions</label><br><br>
            <input type="radio" id="uses a lot of battery" name="q7" value="uses a lot of battery">
                <label for="uses a lot of battery">Uses a lot of battery</label><br><br>
            <input type="radio" id="Higher memory usage" name="q7" value="Higher memory usage">
                <label for="Higher memory usage">Higher memory usage</label><br><br>
            <input type="radio" id="ability to keep open multiple web pages" name="q7" value="ability to keep open multiple web pages">
                <label for="ability to keep open multiple web pages">Ability to keep open multiple web pages</label><br><br>
            <input type="radio" id="They have not made any updates since 1993" name="q7" value="They have not made any updates since 1993">
                <label for="They have not made any updates since 1993">They have not made any updates since 1993</label><br><br>

            <input type="submit" value="Submit">
            <input type="button" id="clear-button" value="Clear">
        </form>

        <div id="survey-result"></div>

        <script>
        // Count 
        document.addEventListener('DOMContentLoaded', function () {
            const form = document.getElementById('my_survey');
            const resultTotal_survey = document.getElementById('survey-result');

            
            function radioAnswer(name) {
                const answer = form.querySelector('input[name="' + name + '"]:checked');
                return answer ? answer.value : null;
            }

            
            function result_texting(qid, state) {
                const qLabel = document.querySelector('label[for="' + qid + '"]');
                if (!qLabel) return;
                qLabel.classList.remove('correct-label', 'incorrect-label');
                if (state === 'correct') qLabel.classList.add('correct-label');
                if (state === 'incorrect') qLabel.classList.add('incorrect-label');
            }

            //choice correct functions
            function ChoiceId(inputId, state) {
                const choiceLabel = document.querySelector('label[for="' + inputId + '"]');
                if (!choiceLabel) return;
                choiceLabel.classList.remove('choice-correct', 'choice-incorrect');
                if (state === 'correct') choiceLabel.classList.add('choice-correct');
                if (state === 'incorrect') choiceLabel.classList.add('choice-incorrect');
            }

            form.addEventListener('submit', function (ev) {
                ev.preventDefault(); 

                let AnsweredScore = 0;
                const total = 7; // number of questions all together

                
                // clear 
                document.querySelectorAll('.choice-correct, .choice-incorrect').forEach(function (el) { el.classList.remove('choice-correct','choice-incorrect'); });

                const q1 = radioAnswer('q1');
                if (q1 === 'HyperText Markup Language')
                { AnsweredScore++; result_texting('q1','correct'); 
                ChoiceId(q1,'correct'); } 
                else { result_texting('q1','incorrect');
                if (q1) ChoiceId(q1,'incorrect'); }

                
                const q2 = radioAnswer('q2');
                if (q2 === 'Establishes a connection between the browser and web server')
                { AnsweredScore++; result_texting('q2','correct');
                 ChoiceId(q2,'correct'); }
                 else { result_texting('q2','incorrect'); 
                 if (q2) ChoiceId(q2,'incorrect'); }

                

                
                const q4 = radioAnswer('q4');
                if (q4 === '1990') { AnsweredScore++; result_texting('q4','correct'); 
                ChoiceId(q4,'correct'); } 
                else { result_texting('q4','incorrect'); 
                if (q4) 
                ChoiceId(q4,'incorrect'); }

                
                const correctFeature = ['feature1', 'feature2', 'feature3'];
                const checkedFeatures = Array.from(form.querySelectorAll('input[type="checkbox"]'))
                    .filter(cb => cb.checked)
                    .map(cb => cb.id);

                // correctanswered
                const allCorrectSelected = correctFeature.every(id => checkedFeatures.includes(id));
                const noExtras = checkedFeatures.every(id => correctFeature.includes(id));
                if (allCorrectSelected && noExtras) { AnsweredScore++; result_texting('q5','correct'); }
                else { result_texting('q5','incorrect'); }


                // green if correct, red if incorrect
                document.querySelectorAll('input[type="checkbox"]').forEach(function (cb) {
                    const id = cb.id;
                    if (!cb.checked) return;
                    if (correctFeature.includes(id)) ChoiceId(id,'correct'); else ChoiceId(id,'incorrect');
                });

                
                const q6 = (document.getElementById('q6').value || '').trim();
                if (q6 === '1995') { AnsweredScore++; result_texting('q6','correct'); } else { result_texting('q6','incorrect'); }

                
                const q7 = radioAnswer('q7');
                if (q7 === 'Higher memory usage') { AnsweredScore++; result_texting('q7','correct'); ChoiceId(q7,'correct'); } else { result_texting('q7','incorrect'); if (q7) ChoiceId(q7,'incorrect'); }

            // result on page with correct answers

          

                            // case
                            const feedback = [];

                            
                            if (q1 === 'HyperText Markup Language') {
                                feedback.push('Q1: Correct');
                            } else {
                                feedback.push('Q1: Incorrect — you answered: ' + (q1 || 'no answer') + '. Correct: HyperText Markup Language');
                            }

                            
                            if (q2 === 'Establishes a connection between the browser and web server') {
                                feedback.push('Q2: Correct');
                            } else {
                                feedback.push('Q2: Incorrect — you answered: ' + (q2 || 'no answer') + '. Correct: Establishes a connection between the browser and web server');
                            }

                            
                            if (q3 === 'firefox') {
                                feedback.push('Q3: Correct');
                            } else {
                                feedback.push('Q3: Incorrect — you answered: "' + (q3 || 'no answer') + '". Correct: Firefox');
                            }

                            
                            if (q4 === '1990') {
                                feedback.push('Q4: Correct');
                            } else {
                                feedback.push('Q4: Incorrect — you answered: ' + (q4 || 'no answer') + '. Correct: 1990');
                            }

                            
                            function labelText(id) {
                                const lbl = document.querySelector('label[for="' + id + '"]');
                                return lbl ? lbl.textContent.trim() : id;
                            }
                            const checkedLabels = checkedFeatures.map(id => labelText(id));
                            const correctLabels = correctFeature.map(id => labelText(id));
                            if (allCorrectSelected && noExtras) {
                                feedback.push('Q5: Correct');
                            } else {
                                const missing = correctFeature.filter(id => !checkedFeatures.includes(id)).map(id => labelText(id));
                                const extras = checkedFeatures.filter(id => !correctFeature.includes(id)).map(id => labelText(id));
                                let msg = 'Q5: Incorrect — ';
                                if (checkedLabels.length) msg += 'Your answers: ' + checkedLabels.join(', ') + '. ';
                                if (missing.length) msg += 'incorrect: ' + missing.join(', ') + '. ';
                                if (extras.length) msg += 'Not the best option: ' + extras.join(', ') + '. ';
                                msg += 'Correct answers: ' + correctLabels.join(', ');
                                feedback.push(msg);
                            }

                            // Q6
                            if (q6 === '1995') {
                                feedback.push('Q6: Correct');
                            } else {
                                feedback.push('Q6: Incorrect — you answered: ' + (q6 || 'no answer') + '. Correct: 1995');
                            }

                            // Q7
                            if (q7 === 'Higher memory usage') {
                                feedback.push('Q7: Correct');
                            } else {
                                feedback.push('Q7: Incorrect — you answered: ' + (q7 || 'no answer') + '. Correct: Higher memory usage');
                            }

                            // pass fail 
                            var passFailText = '';
                            if (AnsweredScore === total) {
                                passFailText = 'PASS: Great job you answered all questions correct. Keep it up!';
                            } else {
                                passFailText = 'FAIL: Dont give up go back and review the materials I know you got this!';
                            }

                            resultTotal_survey.innerHTML = passFailText + '<br><br><div>Score: ' + AnsweredScore + ' / ' + total + '</div><br>' +
                                feedback.map(f => '<div>' + f + '</div>').join('');
            
                        });

                // Clear
            const clearBtn = document.getElementById('clear-button');
            if (clearBtn) {
                clearBtn.addEventListener('click', function () {
                    form.reset();
                    resultTotal_survey.textContent = '';
                    // remove green/red correct and incorrect info
                    document.querySelectorAll('.correct-label, .incorrect-label, .choice-correct, .choice-incorrect').forEach(function (el) {
                        el.classList.remove('correct-label', 'incorrect-label', 'choice-correct', 'choice-incorrect');
                    });
                });
            }
        });
        
</script>
    <script src="screensizemedia.js"></script>
    </body>
</html>